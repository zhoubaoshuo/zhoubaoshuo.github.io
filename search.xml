<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>QQ机器人ZeroBot-Plugin搭建教程</title>
      <link href="/2023/12/03/hello-world/"/>
      <url>/2023/12/03/hello-world/</url>
      
        <content type="html"><![CDATA[<h2 id="Windows操作系统"><a href="#Windows操作系统" class="headerlink" title="Windows操作系统"></a>Windows操作系统</h2><h3 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h3><p>准备工作<br>安装<a href="https://www.python.org/">Python</a>3.8以上<br>安装<a href="www.java.com">java</a> 8.0以上<br>安装<a href="https://golang.google.cn/dl/">go</a>1.20以上</p><h3 id="下载go-cqhttp-qsign1-1-9"><a href="#下载go-cqhttp-qsign1-1-9" class="headerlink" title="下载go-cqhttp+qsign1.1.9"></a>下载go-cqhttp+qsign1.1.9</h3><h2 id="开启qsign1-1-9签字服务器"><a href="#开启qsign1-1-9签字服务器" class="headerlink" title="开启qsign1.1.9签字服务器"></a>开启qsign1.1.9签字服务器</h2><p>前往<a href="https://github.com/rhwong/qsign-onekey/releases/tag/1.1.9-b1">下载</a><br>解压<code>Qsign-Onekey-1.1.9-bitterest.zip</code><br>双击<code>Start_Qsign.bat</code>打开签证服务器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-------------------------------------------------------------------------------------------------</span><br><span class="line">* ______  ______  __  ______  __   __       ______  __   __  ______  __  __  ______  __  __    *</span><br><span class="line">*/\  __ \/\  ___\/\ \/\  ___\/\ \-.\ \     /\  __ \/\ \-.\ \/\  ___\/\ \/ / /\  ___\/\ \_\ \   *</span><br><span class="line">*\ \ \/\_\ \___  \ \ \ \ \__ \ \ \-.  \    \ \ \/\ \ \ \-.  \ \  __\\ \  _&#x27;-\ \  __\\ \____ \  *</span><br><span class="line">* \ \___\_\/\_____\ \_\ \_____\ \_\\ \_\    \ \_____\ \_\\ \_\ \_____\ \_\ \_\ \_____\/\_____\ *</span><br><span class="line">*  \/___/_/\/_____/\/_/\/_____/\/_/ \/_/     \/_____/\/_/ \/_/\/_____/\/_/\/_/\/_____/\/_____/ *</span><br><span class="line">-------------------------------------------------------------------------------------------------</span><br><span class="line">-------------------------------------------------------------------------------------------------</span><br><span class="line">unidbg-fetch-qsign-onekey Ver.1.1.9-bitterest-2023-10-25</span><br><span class="line">txlib_version_config_file does not exist.</span><br><span class="line">Please enter an option to save.</span><br><span class="line">If you press enter directly, save the default values.</span><br><span class="line">-------------------------------------------------------------------------------------------------</span><br><span class="line">txlib_version(default:8.9.80): 8.9.85</span><br><span class="line">host(default:127.0.0.1): 127.0.0.1</span><br><span class="line">port(default:13579): 8080</span><br><span class="line">key(default:1145141919810): 114514</span><br></pre></td></tr></table></figure><p>然后回车签字服务器就打开了，记得不要关闭窗口</p><h2 id="配置go-cqhttp"><a href="#配置go-cqhttp" class="headerlink" title="配置go-cqhttp"></a>配置go-cqhttp</h2><p>双击<code>go-cqhttp.bat</code>打开<code>go-cqhttp</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ 未找到配置文件，正在为您生成配置文件中！</span><br><span class="line">$ 请选择你需要的通信方式：</span><br><span class="line">$ &gt; 0：HTTP通信</span><br><span class="line">$ &gt; 1：云函数服务</span><br><span class="line">$ &gt; 2：正向 Websocket 通信</span><br><span class="line">$ &gt; 3：反向 Websocket 通信</span><br><span class="line">$ 请输入你需要的编号(0-3),可以输入多个，同一编号也可以输入多个(如：233)</span><br><span class="line">$ 您选择的是:2</span><br><span class="line">$ 默认配置文件已生成，请修改 config.yml 后重新启动</span><br></pre></td></tr></table></figure><p>这里我们选2</p><h3 id="编辑config-yml文件"><a href="#编辑config-yml文件" class="headerlink" title="编辑config.yml文件"></a>编辑config.yml文件</h3><p>双击用记事本或者文本编辑器打开<code>config.yml</code>文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ uin: 643667338 <span class="comment"># 这里输入你QQ机器人的QQ号</span></span><br><span class="line">$ password: <span class="string">&#x27;&#x27;</span> <span class="comment"># 这里输入你机器人QQ的密码</span></span><br><span class="line">$ ...</span><br><span class="line">$   <span class="comment"># 服务器可使用docker在本地搭建或者使用他人开放的服务</span></span><br><span class="line">$  sign-servers: </span><br><span class="line">$    - url: <span class="string">&#x27;http://127.0.0.1:8080&#x27;</span>  <span class="comment"># 这里填写你签证服务器的端口（默认8080）</span></span><br><span class="line">$      key: <span class="string">&#x27;114514&#x27;</span>  <span class="comment"># 填写你的签证服务器密钥（默认114514）</span></span><br><span class="line">$     authorization: <span class="string">&#x27;-&#x27;</span>   <span class="comment"># authorization 内容, 依服务端设置，如 &#x27;Bearer xxxx&#x27;</span></span><br><span class="line">$    - url: <span class="string">&#x27;-&#x27;</span>  <span class="comment"># 备用签证服务器填写（选填）</span></span><br><span class="line">$      key: <span class="string">&#x27;114514&#x27;</span>  </span><br><span class="line">$      authorization: <span class="string">&#x27;-&#x27;</span> </span><br><span class="line">$ ...</span><br><span class="line">$  <span class="comment"># 正向WS服务器监听地址</span></span><br><span class="line">$  address: 127.0.0.1:6700 <span class="comment">#把这里改成和我一样的127.0.0.1:6700</span></span><br></pre></td></tr></table></figure><p>然后打开<code>/bata/verisions</code><br>新建文件<code>6.json</code><br>打开<code>6.json</code>输入一下内容 这里推荐使用8.9.85因为比较稳定，如果您要使用其他版本请前往<a href="https://github.com/MrXiaoM/qsign/tree/mirai/txlib/">https://github.com/MrXiaoM/qsign/tree/mirai/txlib/</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;apk_id&quot;</span>: <span class="string">&quot;com.tencent.mobileqq&quot;</span>,</span><br><span class="line">    <span class="string">&quot;app_id&quot;</span>: 537180607,</span><br><span class="line">    <span class="string">&quot;sub_app_id&quot;</span>: 537180607,</span><br><span class="line">    <span class="string">&quot;app_key&quot;</span>: <span class="string">&quot;0S200MNJT807V3GE&quot;</span>,</span><br><span class="line">    <span class="string">&quot;sort_version_name&quot;</span>: <span class="string">&quot;8.9.85.12820&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_time&quot;</span>: 1697015435,</span><br><span class="line">    <span class="string">&quot;apk_sign&quot;</span>: <span class="string">&quot;a6b745bf24a2c277527716f6f36eb68d&quot;</span>,</span><br><span class="line">    <span class="string">&quot;sdk_version&quot;</span>: <span class="string">&quot;6.0.0.2556&quot;</span>,</span><br><span class="line">    <span class="string">&quot;sso_version&quot;</span>: 20,</span><br><span class="line">    <span class="string">&quot;misc_bitmap&quot;</span>: 150470524,</span><br><span class="line">    <span class="string">&quot;main_sig_map&quot;</span>: 16724722,</span><br><span class="line">    <span class="string">&quot;sub_sig_map&quot;</span>: 66560,</span><br><span class="line">    <span class="string">&quot;dump_time&quot;</span>: 1692110632,</span><br><span class="line">    <span class="string">&quot;qua&quot;</span>: <span class="string">&quot;V1_AND_SQ_8.9.85_4766_YYB_D&quot;</span>,</span><br><span class="line">    <span class="string">&quot;protocol_type&quot;</span>: 6</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>然后重新打开<code>go-cqhttp.bat</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ [WAFNING]:登录需要滑条验证码，请验证后重试.</span><br><span class="line">$ [WAFNING]:请选择提交滑块ticket方式:</span><br><span class="line">$ [WAFNING]: l.自动提交</span><br><span class="line">$ [WAFNING]: 2.手动抓取提交</span><br><span class="line">$ [WAFNING]:请输入(1-2):</span><br><span class="line">$ 2            <span class="comment">#这里选2</span></span><br><span class="line">$ [WIAFNING]请前往该地址验证 -&gt; http://xxxx   </span><br></pre></td></tr></table></figure><p>用浏览器打开cmd提供的这个网站，进入打开F12开发者模式，之后打开网络选项在进行验证，验证完后在网络选项往下翻找到cap_union开头的文件，单击然后点预览复制ticket：”这里的内容”粘贴到cmd窗口里</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ [WAFNING]账号已开启设备锁，请选择验证方式:</span><br><span class="line">$ [wAFNING]: 1.向手机158*******4发送短信验证码</span><br><span class="line">$ [wAFNING]:2.使用手机Q扫码验证.</span><br><span class="line">$ [WIAFNING]:请输入(1-2):</span><br><span class="line">$ 1           <span class="comment">#这里选1</span></span><br><span class="line">$ [WIAFNING]请输入短信验证码:  (Enter提交)</span><br><span class="line">$ 004678      <span class="comment">#这里填你QQ机器人手机号收到的验证码</span></span><br></pre></td></tr></table></figure><h3 id="下载ZeroBot-Plugin"><a href="#下载ZeroBot-Plugin" class="headerlink" title="下载ZeroBot-Plugin"></a>下载ZeroBot-Plugin</h3><p>下载<a href="https://github.com/FloatTech/ZeroBot-Plugin/archive/refs/tags/v1.7.6.zip">ZeroBot-Plugin</a><br>解压<code>v1.7.6.zip</code><br>打开里面<code>main.go</code>进行编辑</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ 260  // 通过代码写死的方式添加主人账号</span><br><span class="line">$ 261 // sus = append(sus, 123456)  <span class="comment">#在123456上填写自己的QQ号，并且把//去掉</span></span><br><span class="line">$ ...</span><br><span class="line">$ 228 // 默认昵称</span><br><span class="line">$ 229 adana := flag.String(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;椿池&quot;</span>, <span class="string">&quot;Set default nickname.&quot;</span>) <span class="comment">#在椿池这里填上自己QQ机器人要取的名字（这里以椿池为例）</span></span><br><span class="line">$ ...</span><br><span class="line">$ 289 config.Z = zero.Config&#123;</span><br><span class="line">$ 290 NickName:       append([]string&#123;*adana&#125;, <span class="string">&quot;椿池&quot;</span>, <span class="string">&quot;椿池_Camellia&quot;</span>), <span class="comment">#这里是机器人的小名（这里也是以椿池和椿池_Camellia为例）</span></span><br></pre></td></tr></table></figure><p>然后保存并退出<br><code>win+r</code> 输入<code>cmd</code><br>在<code>cmd</code>窗口输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启用 Go Modules 功能</span></span><br><span class="line">go <span class="built_in">env</span> -w GO111MODULE=on</span><br><span class="line"></span><br><span class="line">go <span class="built_in">env</span> -w GOPROXY=https://mirrors.aliyun.com/goproxy/,direct <span class="comment">#这里以阿里云加速镜像为例</span></span><br></pre></td></tr></table></figure><p>关闭<code>cmd</code>窗口<br>双击打开<code>run.bat</code><br>打开QQ，向QQ机器人发送 <code>/全局响应</code><br>就可以了<br>纤细功能列表见<code>https://github.com/FloatTech/ZeroBot-Plugin</code></p><h3 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h3><p>感谢您观看到这里</p><p><img src="https://pic.imgdb.cn/item/65f6fb919f345e8d03d5ea9b.gif" alt="awa"></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
